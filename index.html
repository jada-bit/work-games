<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOLA Bach Tracker</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        // --- ICONS ---
        const IconMapPin = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
        );
        const IconUtensils = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>
        );
        const IconWine = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M8 22h8"/><path d="M7 10h10"/><path d="M12 15v7"/><path d="M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z"/></svg>
        );
        const IconNavigation = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>
        );
        const IconHeart = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        );
        const IconStar = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        );
        const IconInfo = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
        );

        // --- DATA ---
        const AIRBNB = {
            name: "Bach HQ (The Airbnb)",
            address: "1721 Robert C. Blakes Sr. Dr, New Orleans, LA 70130",
            lat: 29.9412,
            lng: -90.0785
        };

        const LOCATIONS = [
            // --- FOOD ---
            {
                id: 2,
                name: "GW Fins",
                address: "808 Bienville St, New Orleans, LA 70112",
                type: "food",
                vibe: "Upscale Seafood",
                neighborhood: "French Quarter",
                notes: "Dry aged fish. Fancy. Reservations required.",
                lat: 29.9545,
                lng: -90.0690
            },
            {
                id: 3,
                name: "Pizza Domenica",
                address: "4933 Magazine St, New Orleans, LA 70115",
                type: "food",
                vibe: "Chill / Gourmet Pizza",
                neighborhood: "Uptown",
                notes: "Great happy hour. Chill spot on Magazine St.",
                lat: 29.9215,
                lng: -90.1100
            },
            {
                id: 4,
                name: "Herbsaint",
                address: "701 St Charles Ave, New Orleans, LA 70130",
                type: "food",
                vibe: "French / Southern / Fancy",
                neighborhood: "CBD",
                notes: "James Beard award winner. Classic balcony dining if lucky.",
                lat: 29.9500,
                lng: -90.0700
            },
            {
                id: 5,
                name: "Paladar 511",
                address: "511 Marigny St, New Orleans, LA 70117",
                type: "food",
                vibe: "Trendy Italian",
                neighborhood: "Marigny",
                notes: "Super cute loft vibe. Great pasta and pizza.",
                lat: 29.9630,
                lng: -90.0580
            },
            {
                id: 6,
                name: "Costera",
                address: "4938 Prytania St, New Orleans, LA 70115",
                type: "food",
                vibe: "Spanish Tapas",
                neighborhood: "Uptown",
                notes: "Shareable plates, great happy hour sangria.",
                lat: 29.9250,
                lng: -90.1110
            },
            {
                id: 7,
                name: "Commander's Palace",
                address: "1403 Washington Ave, New Orleans, LA 70130",
                type: "food",
                vibe: "The Classic / Jazz Brunch",
                neighborhood: "Garden District",
                notes: "$.25 Martinis at lunch (limit 3). Dress code enforced!",
                lat: 29.9288,
                lng: -90.0842
            },
            {
                id: 8,
                name: "Galatoire's",
                address: "209 Bourbon St, New Orleans, LA 70130",
                type: "food",
                vibe: "Rowdy Fine Dining",
                neighborhood: "French Quarter",
                notes: "Get a seat downstairs for the real party. Friday lunch is legendary.",
                lat: 29.9549,
                lng: -90.0690
            },
            {
                id: 9,
                name: "Cochon",
                address: "930 Tchoupitoulas St, New Orleans, LA 70130",
                type: "food",
                vibe: "Cajun / Rustic",
                neighborhood: "Warehouse Dist.",
                notes: "Meat-heavy, incredible wood-fired oysters.",
                lat: 29.9422,
                lng: -90.0672
            },
            {
                id: 20,
                name: "PÃªche Seafood Grill",
                address: "800 Magazine St, New Orleans, LA 70130",
                type: "food",
                vibe: "Rustic Seafood",
                neighborhood: "Warehouse Dist.",
                notes: "Incredible whole fish. James Beard winner. Lively.",
                lat: 29.9450,
                lng: -90.0690
            },
            {
                id: 21,
                name: "Coquette",
                address: "2800 Magazine St, New Orleans, LA 70115",
                type: "food",
                vibe: "Modern Southern",
                neighborhood: "Garden District",
                notes: "Farm-to-table. Beautiful corner building. Great wine list.",
                lat: 29.9270,
                lng: -90.0860
            },
            {
                id: 22,
                name: "Lilette",
                address: "3637 Magazine St, New Orleans, LA 70115",
                type: "food",
                vibe: "Classic French",
                neighborhood: "Uptown",
                notes: "Intimate, romantic, small plates.",
                lat: 29.9240,
                lng: -90.0960
            },
            {
                id: 23,
                name: "Clancy's",
                address: "6100 Annunciation St, New Orleans, LA 70118",
                type: "food",
                vibe: "Old School Creole",
                neighborhood: "Uptown",
                notes: "Local favorite. White tablecloths but loud and fun.",
                lat: 29.9220,
                lng: -90.1230
            },
            {
                id: 24,
                name: "Parkway Bakery & Tavern",
                address: "538 Hagan Ave, New Orleans, LA 70119",
                type: "food",
                vibe: "Po-Boys / Casual",
                neighborhood: "Mid-City",
                notes: "Legendary roast beef po-boys. Order at counter.",
                lat: 29.9740,
                lng: -90.0930
            },
            {
                id: 25,
                name: "Guy's Po-Boys",
                address: "5259 Magazine St, New Orleans, LA 70115",
                type: "food",
                vibe: "Po-Boy Shop",
                neighborhood: "Uptown",
                notes: "Classic neighborhood spot. Great fried shrimp.",
                lat: 29.9200,
                lng: -90.1160
            },
            {
                id: 34,
                name: "Afrodisiac",
                address: "5363 Franklin Ave, New Orleans, LA 70122",
                type: "food",
                vibe: "Creole Fusion / Music",
                neighborhood: "Gentilly",
                notes: "Vibrant spot for food and culture.",
                lat: 30.0150,
                lng: -90.0640
            },

            // --- DRINKS / NIGHTLIFE ---
            {
                id: 1,
                name: "Bacchanal Fine Wine",
                address: "600 Poland Avenue, New Orleans, LA, 70117",
                type: "drinks",
                vibe: "Wine Garden / Live Jazz",
                neighborhood: "Bywater",
                notes: "Think 'Lagniappe in Miami'. Huge courtyard, buy a bottle & cheese, listen to jazz.",
                lat: 29.9600,
                lng: -90.0300
            },
            {
                id: 10,
                name: "Wrong Iron",
                address: "3532 Toulouse St, New Orleans, LA 70119",
                type: "drinks",
                vibe: "Beer Garden / Outdoor",
                neighborhood: "Mid-City",
                notes: "On the Greenway. Chill, watch football, lots of locals.",
                lat: 29.9720,
                lng: -90.0900
            },
            {
                id: 11,
                name: "The Delachaise",
                address: "3442 St Charles Ave, New Orleans, LA 70115",
                type: "drinks",
                vibe: "Wine Bar / Date Night",
                neighborhood: "Uptown",
                notes: "Get the goose fat fries. Right on the streetcar line.",
                lat: 29.9280,
                lng: -90.0950
            },
            {
                id: 12,
                name: "Oak & Ale",
                address: "8118 Oak St, New Orleans, LA 70118",
                type: "drinks",
                vibe: "Wine / Snacks",
                neighborhood: "Carrollton",
                notes: "Cute patio, chill happy hour.",
                lat: 29.9480,
                lng: -90.1300
            },
            {
                id: 13,
                name: "Peacock Room",
                address: "501 Tchoupitoulas St, New Orleans, LA 70130",
                type: "drinks",
                vibe: "Swanky Hotel Bar",
                neighborhood: "CBD",
                notes: "Inside Hotel Fontenot. Very instagrammable decor.",
                lat: 29.9485,
                lng: -90.0672
            },
            {
                id: 14,
                name: "The Will & The Way",
                address: "719 Toulouse St, New Orleans, LA 70130",
                type: "drinks",
                vibe: "Craft Cocktails / Courtyard",
                neighborhood: "French Quarter",
                notes: "Hidden gem. Quiet courtyard compared to Bourbon St.",
                lat: 29.9570,
                lng: -90.0670
            },
            {
                id: 15,
                name: "Lucy's Retired Surfers",
                address: "701 Tchoupitoulas St, New Orleans, LA 70130",
                type: "drinks",
                vibe: "Party / Dancing",
                neighborhood: "Warehouse Dist.",
                notes: "Late night spot. Dance on tables. Locals love it.",
                lat: 29.9460,
                lng: -90.0660
            },
            {
                id: 16,
                name: "Pat O'Brien's",
                address: "718 St Peter, New Orleans, LA 70116",
                type: "drinks",
                vibe: "Tourist Classic / Piano Bar",
                neighborhood: "French Quarter",
                notes: "Home of the Hurricane. Dueling pianos inside.",
                lat: 29.9581,
                lng: -90.0655
            },
            {
                id: 17,
                name: "Cat's Meow",
                address: "701 Bourbon St, New Orleans, LA 70116",
                type: "drinks",
                vibe: "Karaoke / Loud",
                neighborhood: "French Quarter",
                notes: "If you want to sing or watch drunk people sing.",
                lat: 29.9580,
                lng: -90.0660
            },
            {
                id: 18,
                name: "Lafitte's Blacksmith Shop",
                address: "941 Bourbon St, New Orleans, LA 70116",
                type: "drinks",
                vibe: "Historic / Divey",
                neighborhood: "French Quarter",
                notes: "Oldest bar in US. Lit by candles. Get the purple drink (Voodoo).",
                lat: 29.9607,
                lng: -90.0640
            },
            {
                id: 19,
                name: "F&M Patio Bar & Grits",
                address: "4841 Tchoupitoulas St, New Orleans, LA 70115",
                type: "drinks",
                vibe: "Late Night / Dive",
                neighborhood: "Uptown",
                notes: "Combine them! Cheese fries at F&Ms, dive vibes next door.",
                lat: 29.9190,
                lng: -90.1050
            },
            {
                id: 26,
                name: "The Elysian Bar",
                address: "2317 Burgundy St, New Orleans, LA 70117",
                type: "drinks",
                vibe: "Aesthetic / Garden",
                neighborhood: "Marigny",
                notes: "Inside Hotel Peter and Paul. Stunning decor, great for photos.",
                lat: 29.9670,
                lng: -90.0550
            },
            {
                id: 27,
                name: "Carousel Bar",
                address: "214 Royal St, New Orleans, LA 70130",
                type: "drinks",
                vibe: "Upscale / Iconic",
                neighborhood: "French Quarter",
                notes: "Inside Hotel Monteleone. The bar actually spins.",
                lat: 29.9550,
                lng: -90.0680
            },
            {
                id: 28,
                name: "The Chloe",
                address: "4125 St Charles Ave, New Orleans, LA 70115",
                type: "drinks",
                vibe: "Poolside / Chic",
                neighborhood: "Uptown",
                notes: "Boutique hotel. Great porch and pool bar.",
                lat: 29.9280,
                lng: -90.1020
            },
            {
                id: 29,
                name: "Cure",
                address: "4905 Freret St, New Orleans, LA 70115",
                type: "drinks",
                vibe: "High-End Cocktails",
                neighborhood: "Freret",
                notes: "James Beard winner. The place for a serious drink.",
                lat: 29.9360,
                lng: -90.1080
            },
            {
                id: 30,
                name: "Hot Tin",
                address: "2031 St Charles Ave, New Orleans, LA 70130",
                type: "drinks",
                vibe: "Rooftop / Views",
                neighborhood: "Garden District",
                notes: "Rooftop of Pontchartrain Hotel. Best skyline view.",
                lat: 29.9370,
                lng: -90.0780
            },
            {
                id: 31,
                name: "The Gold Mine",
                address: "701 Dauphine St, New Orleans, LA 70112",
                type: "drinks",
                vibe: "Dancing / Flaming Drinks",
                neighborhood: "French Quarter",
                notes: "Order the Flaming Dr. Pepper. Late night dancing.",
                lat: 29.9570,
                lng: -90.0690
            },
            {
                id: 32,
                name: "Snake and Jake's",
                address: "7612 Oak St, New Orleans, LA 70118",
                type: "drinks",
                vibe: "Ultimate Dive",
                neighborhood: "Uptown",
                notes: "Christmas lights year round. Late late night spot.",
                lat: 29.9470,
                lng: -90.1280
            }
        ];

        // --- UTILS ---
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 3958.8; // Earth radius in miles
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = 
                Math.sin(dLat/2) * Math.sin(dLat/2) +
                Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }

        // --- COMPONENTS ---
        const Badge = ({ children, colorClass }) => (
            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${colorClass}`}>
                {children}
            </span>
        );

        const FilterButton = ({ active, onClick, icon: Icon, label }) => (
            <button
                onClick={onClick}
                className={`flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-200 flex-1 sm:flex-none ${
                active 
                    ? 'bg-rose-500 text-white shadow-lg shadow-rose-200 transform scale-105' 
                    : 'bg-white text-slate-600 hover:bg-slate-50 border border-slate-200'
                }`}
            >
                <Icon size={18} />
                {label}
            </button>
        );

        const LocationCard = ({ location, distance }) => {
            const isWalkingDistance = distance < 0.8;
            const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(location.name + " " + location.address)}`;

            return (
                <div className="group bg-white rounded-2xl p-5 shadow-sm border border-slate-100 hover:shadow-xl hover:border-rose-100 transition-all duration-300">
                    <div className="flex justify-between items-start mb-3">
                        <div>
                            <h3 className="text-lg font-bold text-slate-800 group-hover:text-rose-600 transition-colors">
                                {location.name}
                            </h3>
                            <div className="flex items-center gap-2 text-sm text-slate-500 mt-1">
                                <IconMapPin size={14} className="text-rose-400" />
                                <span>{location.neighborhood}</span>
                            </div>
                        </div>
                        <div className={`flex flex-col items-end`}>
                            <span className="text-lg font-bold text-slate-800">{distance}</span>
                            <span className="text-xs text-slate-400 uppercase font-medium">miles</span>
                        </div>
                    </div>

                    <div className="flex flex-wrap gap-2 mb-4">
                        {location.type === 'food' ? (
                            <Badge colorClass="bg-orange-100 text-orange-700">Food</Badge>
                        ) : (
                            <Badge colorClass="bg-purple-100 text-purple-700">Drinks</Badge>
                        )}
                        
                        {isWalkingDistance && (
                            <Badge colorClass="bg-emerald-100 text-emerald-700">Walking Dist</Badge>
                        )}
                        
                        <Badge colorClass="bg-slate-100 text-slate-600">{location.vibe}</Badge>
                    </div>

                    <div className="bg-slate-50 rounded-lg p-3 mb-4">
                        <p className="text-sm text-slate-600 italic">"{location.notes}"</p>
                    </div>

                    <a 
                        href={mapUrl}
                        target="_blank"
                        rel="noopener noreferrer"
                        className="w-full flex items-center justify-center gap-2 bg-slate-900 text-white py-2.5 rounded-lg font-medium hover:bg-rose-500 transition-colors"
                    >
                        <IconNavigation size={16} />
                        Map It
                    </a>
                </div>
            );
        };

        const App = () => {
            const [filter, setFilter] = useState('all'); // all, food, drinks
            
            // Enhance locations with distance and sort
            const processedLocations = useMemo(() => {
                return LOCATIONS.map(loc => ({
                ...loc,
                distance: calculateDistance(AIRBNB.lat, AIRBNB.lng, loc.lat, loc.lng).toFixed(1)
                })).sort((a, b) => parseFloat(a.distance) - parseFloat(b.distance));
            }, []);

            const filteredLocations = useMemo(() => {
                if (filter === 'all') return processedLocations;
                return processedLocations.filter(loc => loc.type === filter);
            }, [filter, processedLocations]);

            const copyAddress = () => {
                // Clipboard API might require secure context or user interaction in some browser configs
                // We use the modern API but wrap in try/catch just in case
                try {
                    navigator.clipboard.writeText(AIRBNB.address).then(() => {
                        alert("Address copied!");
                    }).catch(err => {
                        console.error('Failed to copy: ', err);
                    });
                } catch (e) {
                    console.error('Clipboard API unavailable');
                }
            };

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-900 pb-20">
                    
                    {/* Header / Hero */}
                    <div className="bg-gradient-to-r from-rose-400 to-orange-400 text-white pb-16 pt-10 px-6 rounded-b-[2.5rem] shadow-xl relative overflow-hidden">
                        <div className="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none">
                            {/* Abstract pattern circles */}
                            <div className="absolute top-[-20%] left-[-10%] w-64 h-64 rounded-full bg-white mix-blend-overlay"></div>
                            <div className="absolute bottom-[-20%] right-[-10%] w-80 h-80 rounded-full bg-white mix-blend-overlay"></div>
                        </div>

                        <div className="max-w-2xl mx-auto relative z-10 text-center">
                            <div className="inline-block bg-white/20 backdrop-blur-md px-4 py-1.5 rounded-full text-xs font-bold tracking-wider mb-4 border border-white/30 uppercase">
                                NOLA Bach Trip
                            </div>
                            <h1 className="text-4xl font-black mb-2 tracking-tight">Let's Get Weird</h1>
                            <p className="text-rose-100 text-lg mb-8 font-medium">Eat, Drink, & Be Married</p>
                            
                            <div className="bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20 text-left flex items-center justify-between gap-4">
                                <div>
                                    <div className="text-rose-100 text-xs uppercase tracking-wider font-bold mb-1">Home Base</div>
                                    <div className="text-white font-semibold leading-tight pr-4">
                                        1721 Robert C. Blakes Sr. Dr
                                        <span className="block text-rose-100 text-sm font-normal mt-0.5 opacity-90">Central City / Garden Dist Border</span>
                                    </div>
                                </div>
                                <button 
                                    onClick={copyAddress}
                                    className="bg-white text-rose-500 p-2.5 rounded-xl hover:bg-rose-50 transition-colors shrink-0"
                                    title="Copy Address"
                                >
                                    <IconNavigation size={20} />
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="max-w-2xl mx-auto px-4 -mt-8 relative z-20">
                        
                        {/* Filters */}
                        <div className="flex gap-2 mb-8 overflow-x-auto pb-2 scrollbar-hide">
                            <FilterButton 
                                active={filter === 'all'} 
                                onClick={() => setFilter('all')} 
                                icon={IconStar} 
                                label="All Spots" 
                            />
                            <FilterButton 
                                active={filter === 'food'} 
                                onClick={() => setFilter('food')} 
                                icon={IconUtensils} 
                                label="Eats" 
                            />
                            <FilterButton 
                                active={filter === 'drinks'} 
                                onClick={() => setFilter('drinks')} 
                                icon={IconWine} 
                                label="Drinks" 
                            />
                        </div>

                        {/* List */}
                        <div className="space-y-4">
                            {filteredLocations.length === 0 && (
                                <div className="text-center py-20 text-slate-400">
                                    <IconInfo className="mx-auto mb-2 opacity-50" size={48} />
                                    <p>No spots found for this filter!</p>
                                </div>
                            )}

                            {filteredLocations.map((loc) => (
                                <LocationCard key={loc.id} location={loc} distance={loc.distance} />
                            ))}
                        </div>

                        {/* Footer */}
                        <div className="mt-12 text-center text-slate-400 text-sm pb-8">
                            <p className="flex items-center justify-center gap-1">
                                Made with <IconHeart size={12} className="text-rose-400 fill-rose-400" /> for the Bride
                            </p>
                        </div>

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
